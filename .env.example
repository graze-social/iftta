# ifthisthenat Environment Variables Template
# Copy this file to .env and fill in your actual values

# Required: External base URL for your service (no trailing slash)
EXTERNAL_BASE=https://example.com

# Required: Base64-encoded 64-byte key for cookie encryption
# Generate with: openssl rand -base64 64
HTTP_COOKIE_KEY=REPLACE_WITH_BASE64_ENCODED_64_BYTE_KEY

# Required: DID for the service identity
ISSUER_DID=did:plc:your-service-did

# Required: OAuth AIP Server Configuration
AIP_HOSTNAME=https://aip.example.com
AIP_CLIENT_ID=your-oauth-client-id
AIP_CLIENT_SECRET=your-oauth-client-secret

# Database connection string
# Default: postgres://postgres:postgres@localhost/ifthisthenat
DATABASE_URL=postgres://username:password@localhost:5432/ifthisthenat

# Optional: Admin DIDs (semicolon-separated)
# ADMIN_DIDS=did:plc:admin1;did:plc:admin2

# Optional: HTTP server port (default: 8080)
# HTTP_PORT=8080

# Optional: Static files path (default: static)
# HTTP_STATIC_PATH=static

# Optional: User agent for HTTP requests
# USER_AGENT=ifthisthenat/1.0

# Optional: PLC directory hostname (default: plc.directory)
# PLC_HOSTNAME=plc.directory

# Optional: HTTP client timeout in seconds (default: 8)
# HTTP_CLIENT_TIMEOUT=8

# Optional: Identity cache configuration
# IDENTITY_CACHE_SIZE=1000
# IDENTITY_CACHE_TTL_MINUTES=30

# Optional: Jetstream configuration for AT Protocol event processing
# JETSTREAM_ENABLED=false
# JETSTREAM_HOSTNAME=jetstream2.us-east.bsky.network
# JETSTREAM_CURSOR_PATH=/path/to/cursor/file
# JETSTREAM_COLLECTIONS=app.bsky.feed.post,app.bsky.feed.like

# Optional: Logging level (default: info)
# RUST_LOG=ifthisthenat=info